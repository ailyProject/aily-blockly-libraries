[
  {
    "type": "line_init",
    "message0": "初始化八路巡线传感器 I2C接口 %1",
    "args0": [
      {
        "type": "field_dropdown",
        "name": "WIRE",
        "options": "${board.i2c}"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#5C7DA6",
    "tooltip": "八路巡线传感器(I2C地址0x27)"
  },
  {
    "type": "line_is_state",
    "message0": "当前线路状态等于 %1",
    "args0": [
      {
        "type": "field_dropdown",
        "name": "STATE",
        "options": [
          ["(0) 00000000 全白", "0"],
          ["(24) 00011000 中间两路", "24"],
          ["(60) 00111100 中间四路", "60"],
          ["(126) 01111110 中间六路", "126"],
          ["(255) 11111111 全黑", "255"],
          ["(1) 00000001 A0", "1"],
          ["(2) 00000010 A1", "2"],
          ["(4) 00000100 A2", "4"],
          ["(8) 00001000 A3", "8"],
          ["(16) 00010000 A4", "16"],
          ["(32) 00100000 A5", "32"],
          ["(64) 01000000 A6", "64"],
          ["(128) 10000000 A7", "128"],
          ["(3) 00000011 A0+A1", "3"],
          ["(12) 00001100 A2+A3", "12"],
          ["(48) 00110000 A4+A5", "48"],
          ["(192) 11000000 A6+A7", "192"]
        ]
      }
    ],
    "output": "Boolean",
    "colour": "#5C7DA6",
    "tooltip": "判断当前巡线状态(8路传感器)"
  },
  {
    "type": "line_get_state",
    "message0": "获取当前线路状态值",
    "output": "Number",
    "colour": "#5C7DA6",
    "tooltip": "获取8路传感器的数字状态值(0-255)"
  },
  {
    "type": "line_offset",
    "message0": "获取线路偏移量",
    "output": "Number",
    "colour": "#5C7DA6",
    "tooltip": "获取巡线偏移量，用于PID控制(-7到+7)"
  },
  {
    "type": "line_sensor_value",
    "message0": "获取 %1 传感器当前值",
    "args0": [
      {
        "type": "field_dropdown",
        "name": "SENSOR",
        "options": [
          ["A0", "0"],
          ["A1", "1"],
          ["A2", "2"],
          ["A3", "3"],
          ["A4", "4"],
          ["A5", "5"],
          ["A6", "6"],
          ["A7", "7"]
        ]
      }
    ],
    "output": "Number",
    "colour": "#5C7DA6",
    "tooltip": "获取单个传感器的当前值(0-4095)"
  },
  {
    "type": "line_sensor_reference",
    "message0": "获取 %1 传感器参考值",
    "args0": [
      {
        "type": "field_dropdown",
        "name": "SENSOR",
        "options": [
          ["A0", "0"],
          ["A1", "1"],
          ["A2", "2"],
          ["A3", "3"],
          ["A4", "4"],
          ["A5", "5"],
          ["A6", "6"],
          ["A7", "7"]
        ]
      }
    ],
    "output": "Number",
    "colour": "#5C7DA6",
    "tooltip": "获取单个传感器的参考值(阈值,0-4095)"
  },
  {
    "type": "line_sensor_digital",
    "message0": "获取 %1 传感器数字值",
    "args0": [
      {
        "type": "field_dropdown",
        "name": "SENSOR",
        "options": [
          ["A0", "0"],
          ["A1", "1"],
          ["A2", "2"],
          ["A3", "3"],
          ["A4", "4"],
          ["A5", "5"],
          ["A6", "6"],
          ["A7", "7"]
        ]
      }
    ],
    "output": "Number",
    "colour": "#5C7DA6",
    "tooltip": "获取单个传感器的数字值(0或1, 1表示检测到黑线)"
  },
  {
    "type": "line_set_rgb",
    "message0": "设置巡线模块RGB灯为 %1",
    "args0": [
      {
        "type": "field_dropdown",
        "name": "COLOR",
        "options": [
          ["关闭", "0"],
          ["红色", "1"],
          ["绿色", "2"],
          ["蓝色", "3"],
          ["白色", "4"],
          ["黄色", "5"],
          ["青色", "6"],
          ["紫色", "7"]
        ]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#5C7DA6",
    "tooltip": "设置巡线模块上的RGB指示灯颜色"
  },
  {
    "type": "line_set_frequency",
    "message0": "设置巡线模块上传频率 %1 毫秒",
    "args0": [
      {
        "type": "input_value",
        "name": "INTERVAL",
        "check": "Number"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#5C7DA6",
    "tooltip": "设置传感器数据上传间隔(毫秒)"
  },
  {
    "type": "line_print_data",
    "message0": "打印巡线传感器数据",
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#5C7DA6",
    "tooltip": "通过串口打印所有传感器数据"
  }
]
