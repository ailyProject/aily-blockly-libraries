# 变量 (Variables) 核心库

Arduino/C++编程中的变量管理核心库，提供变量声明、赋值、获取和类型转换功能。

## 库信息
- **库名**: @aily-project/lib-core-variables
- **版本**: 1.0.1
- **作者**: aily Project
- **描述**: 核心库，通常已经集成到初始模板中

## 可用模块

### 声明变量 (`variable_define`)
声明新变量并指定数据类型和初始值
- **支持类型**: int, long, float, double, unsigned int, unsigned long, bool, char, string
- **作用域**: 连接到主程序流时为局部变量，独立存在时为全局变量
- **默认值**: 数字类型为0，字符串为空，字符为空字符

### 获取变量值 (`variables_get`)
获取已声明变量的当前值，从下拉菜单选择变量

### 赋值变量 (`variables_set`)
为已存在的变量赋予新值，生成 `变量名 = 新值;` 语句

### 类型强制转换 (`type_cast`)
将值转换为指定数据类型
- **支持转换**: int, long, float, double, unsigned int, unsigned long, bool, char, byte, String
- **实现**: 字符串使用String()构造函数，其他使用标准C++转换语法

## 工具箱功能

### 新建变量按钮
点击创建新变量，自动添加到工具箱并刷新显示

### 动态更新
- 自动添加新创建的变量获取块
- 支持变量重命名时的工具箱同步
- 智能检测变量引用，避免重复添加

## 高级功能

### 智能作用域管理
根据块连接状态自动决定变量作用域（局部/全局）

### 变量重命名
- 支持动态修改变量名称
- 自动检测变量引用关系
- 500ms防抖处理避免频繁更新

### 类型安全
- 自动处理默认值和类型转换
- 兼容Arduino特有数据类型

## 使用说明

1. **创建**: 使用"声明变量"块定义变量，选择类型和初始值
2. **读取**: 使用"获取变量值"块读取变量
3. **修改**: 使用"赋值变量"块修改变量值
4. **转换**: 使用"类型强制转换"块进行类型转换
5. **管理**: 通过"新建变量"按钮快速创建，支持直接重命名

## 注意事项
- 变量名遵循C++命名规范
- 类型转换可能导致精度损失
- 优先使用局部变量节省内存
- 字符串类型对应Arduino String类