[
  {
    "type": "pn532_create_spi",
    "message0": "创建PN532 NFC模块 %1 使用SPI接口 SCK:%2 MISO:%3 MOSI:%4 SS:%5",
    "args0": [
      {
        "type": "field_input",
        "name": "VAR",
        "text": "nfc"
      },
      {
        "type": "field_number",
        "name": "SCK",
        "value": 2,
        "min": 0,
        "max": 53
      },
      {
        "type": "field_number",
        "name": "MISO",
        "value": 5,
        "min": 0,
        "max": 53
      },
      {
        "type": "field_number",
        "name": "MOSI",
        "value": 3,
        "min": 0,
        "max": 53
      },
      {
        "type": "field_number",
        "name": "SS",
        "value": 4,
        "min": 0,
        "max": 53
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#0066CC",
    "tooltip": "创建PN532 NFC模块对象，使用软件SPI接口"
  },
  {
    "type": "pn532_create_spi_hw",
    "message0": "创建PN532 NFC模块 %1 使用硬件SPI接口 SS:%2",
    "args0": [
      {
        "type": "field_input",
        "name": "VAR",
        "text": "nfc"
      },
      {
        "type": "field_number",
        "name": "SS",
        "value": 10,
        "min": 0,
        "max": 53
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#0066CC",
    "tooltip": "创建PN532 NFC模块对象，使用硬件SPI接口"
  },
  {
    "type": "pn532_create_i2c",
    "message0": "创建PN532 NFC模块 %1 使用I2C接口（简化版）",
    "args0": [
      {
        "type": "field_input",
        "name": "VAR",
        "text": "nfc"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#0066CC",
    "tooltip": "创建PN532 NFC模块对象，使用I2C接口（不接IRQ和RESET引脚）"
  },
  {
    "type": "pn532_create_i2c_pins",
    "message0": "创建PN532 NFC模块 %1 使用I2C接口 IRQ:%2 RESET:%3",
    "args0": [
      {
        "type": "field_input",
        "name": "VAR",
        "text": "nfc"
      },
      {
        "type": "field_number",
        "name": "IRQ",
        "value": 2,
        "min": 0,
        "max": 53
      },
      {
        "type": "field_number",
        "name": "RESET",
        "value": 3,
        "min": 0,
        "max": 53
      }
    ],
    "previousStatement": null,
    "nextStatement": null,  
    "colour": "#0066CC",
    "tooltip": "创建PN532 NFC模块对象，使用I2C接口（带IRQ和RESET引脚）"
  },
  {
    "type": "pn532_begin",
    "message0": "初始化PN532模块 %1",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#0066CC",
    "tooltip": "初始化PN532模块，必须在setup中调用"
  },
  {
    "type": "pn532_get_firmware_version",
    "message0": "获取PN532模块 %1 固件版本",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      }
    ],
    "output": "Number",
    "colour": "#0066CC",
    "tooltip": "获取PN532模块的固件版本号"
  },
  {
    "type": "pn532_sam_config",
    "message0": "配置PN532模块 %1 SAM",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#0066CC",
    "tooltip": "配置PN532模块的SAM（安全访问模块）"
  },
  {
    "type": "pn532_set_passive_retries",
    "message0": "设置PN532模块 %1 被动激活重试次数 %2",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      },
      {
        "type": "field_number",
        "name": "RETRIES",
        "value": 255,
        "min": 0,
        "max": 255
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#0066CC",
    "tooltip": "设置读取卡片时的最大重试次数"
  },
  {
    "type": "pn532_read_passive_target",
    "message0": "读取PN532模块 %1 被动目标ID 卡片类型 %2 超时 %3 毫秒",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      },
      {
        "type": "field_dropdown",
        "name": "CARDTYPE",
        "options": [
          ["MIFARE ISO14443A", "PN532_MIFARE_ISO14443A"]
        ]
      },
      {
        "type": "field_number",
        "name": "TIMEOUT",
        "value": 1000,
        "min": 0,
        "max": 65535
      }
    ],
    "output": "Boolean",
    "colour": "#009966",
    "tooltip": "读取被动目标的ID，返回是否成功读取"
  },
  {
    "type": "pn532_get_uid_length",
    "message0": "获取最近读取的UID长度",
    "output": "Number",
    "colour": "#009966",
    "tooltip": "获取最近一次成功读取的UID长度（字节）"
  },
  {
    "type": "pn532_get_uid_byte",
    "message0": "获取UID第 %1 个字节",
    "args0": [
      {
        "type": "input_value",
        "name": "INDEX",
        "check": "Number"
      }
    ],
    "output": "Number",
    "colour": "#009966",
    "tooltip": "获取UID指定位置的字节值"
  },
  {
    "type": "pn532_mifare_classic_authenticate",
    "message0": "Mifare Classic认证 %1 扇区 %2 密钥类型 %3 密钥 %4",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      },
      {
        "type": "field_number",
        "name": "SECTOR",
        "value": 1,
        "min": 0,
        "max": 63
      },
      {
        "type": "field_dropdown",
        "name": "KEYTYPE",
        "options": [
          ["A密钥", "MIFARE_CMD_AUTH_A"],
          ["B密钥", "MIFARE_CMD_AUTH_B"]
        ]
      },
      {
        "type": "input_value",
        "name": "KEY",
        "check": ["String"]
      }
    ],
    "output": "Boolean",
    "colour": "#CC6600",
    "tooltip": "认证Mifare Classic卡片的指定扇区"
  },
  {
    "type": "pn532_mifare_classic_read_block",
    "message0": "读取Mifare Classic %1 数据块 %2",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      },
      {
        "type": "field_number",
        "name": "BLOCK",
        "value": 4,
        "min": 0,
        "max": 255
      }
    ],
    "output": "String",
    "colour": "#CC6600",
    "tooltip": "读取Mifare Classic卡片指定数据块的内容"
  },
  {
    "type": "pn532_mifare_classic_write_block",
    "message0": "写入Mifare Classic %1 数据块 %2 数据 %3",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      },
      {
        "type": "field_number",
        "name": "BLOCK",
        "value": 4,
        "min": 0,
        "max": 255
      },
      {
        "type": "input_value",
        "name": "DATA",
        "check": ["String"]
      }
    ],
    "output": "Boolean",
    "colour": "#CC6600",
    "tooltip": "向Mifare Classic卡片指定数据块写入数据"
  },
  {
    "type": "pn532_mifare_ultralight_read_page",
    "message0": "读取Mifare Ultralight %1 页面 %2",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      },
      {
        "type": "field_number",
        "name": "PAGE",
        "value": 4,
        "min": 0,
        "max": 255
      }
    ],
    "output": "String",
    "colour": "#009999",
    "tooltip": "读取Mifare Ultralight卡片指定页面的内容"
  },
  {
    "type": "pn532_mifare_ultralight_write_page",
    "message0": "写入Mifare Ultralight %1 页面 %2 数据 %3",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      },
      {
        "type": "field_number",
        "name": "PAGE",
        "value": 4,
        "min": 0,
        "max": 255
      },
      {
        "type": "input_value",
        "name": "DATA",
        "check": ["String"]
      }
    ],
    "output": "Boolean",
    "colour": "#009999",
    "tooltip": "向Mifare Ultralight卡片指定页面写入数据"
  },
  {
    "type": "pn532_ntag2xx_read_page",
    "message0": "读取NTAG2xx %1 页面 %2",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      },
      {
        "type": "field_number",
        "name": "PAGE",
        "value": 4,
        "min": 0,
        "max": 255
      }
    ],
    "output": "String",
    "colour": "#9966CC",
    "tooltip": "读取NTAG2xx标签指定页面的内容"
  },
  {
    "type": "pn532_ntag2xx_write_page",
    "message0": "写入NTAG2xx %1 页面 %2 数据 %3",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      },
      {
        "type": "field_number",
        "name": "PAGE",
        "value": 4,
        "min": 0,
        "max": 255
      },
      {
        "type": "input_value",
        "name": "DATA",
        "check": ["String"]
      }
    ],
    "output": "Boolean",
    "colour": "#9966CC",
    "tooltip": "向NTAG2xx标签指定页面写入数据"
  },
  {
    "type": "pn532_mifare_classic_write_ndef_uri",
    "message0": "写入Mifare Classic %1 NDEF URI 扇区 %2 URI前缀 %3 URL %4",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      },
      {
        "type": "field_number",
        "name": "SECTOR",
        "value": 1,
        "min": 0,
        "max": 15
      },
      {
        "type": "field_dropdown",
        "name": "PREFIX",
        "options": [
          ["无", "NDEF_URIPREFIX_NONE"],
          ["http://www.", "NDEF_URIPREFIX_HTTP_WWWDOT"],
          ["https://www.", "NDEF_URIPREFIX_HTTPS_WWWDOT"],
          ["http://", "NDEF_URIPREFIX_HTTP"],
          ["https://", "NDEF_URIPREFIX_HTTPS"],
          ["tel:", "NDEF_URIPREFIX_TEL"],
          ["mailto:", "NDEF_URIPREFIX_MAILTO"],
          ["ftp://anonymous@", "NDEF_URIPREFIX_FTP_ANONAT"]
        ]
      },
      {
        "type": "input_value",
        "name": "URL",
        "check": ["String"]
      }
    ],
    "output": "Boolean",
    "colour": "#CC6600",
    "tooltip": "向Mifare Classic卡片写入NDEF格式的URI记录"
  },
  {
    "type": "pn532_ntag2xx_write_ndef_uri",
    "message0": "写入NTAG2xx %1 NDEF URI URI前缀 %2 URL %3",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      },
      {
        "type": "field_dropdown",
        "name": "PREFIX",
        "options": [
          ["无", "NDEF_URIPREFIX_NONE"],
          ["http://www.", "NDEF_URIPREFIX_HTTP_WWWDOT"],
          ["https://www.", "NDEF_URIPREFIX_HTTPS_WWWDOT"],
          ["http://", "NDEF_URIPREFIX_HTTP"],
          ["https://", "NDEF_URIPREFIX_HTTPS"],
          ["tel:", "NDEF_URIPREFIX_TEL"],
          ["mailto:", "NDEF_URIPREFIX_MAILTO"],
          ["ftp://anonymous@", "NDEF_URIPREFIX_FTP_ANONAT"]
        ]
      },
      {
        "type": "input_value",
        "name": "URL",
        "check": ["String"]
      }
    ],
    "output": "Boolean",
    "colour": "#9966CC",
    "tooltip": "向NTAG2xx标签写入NDEF格式的URI记录"
  },
  {
    "type": "pn532_mifare_classic_format_ndef",
    "message0": "格式化Mifare Classic %1 为NDEF格式",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "nfc",
        "variableTypes": ["Adafruit_PN532"],
        "defaultType": "Adafruit_PN532"
      }
    ],
    "output": "Boolean",
    "colour": "#CC6600",
    "tooltip": "将Mifare Classic卡片格式化为NDEF格式"
  }
]