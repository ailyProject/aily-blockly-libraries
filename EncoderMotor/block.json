[
  {
    "type": "encoder_motor_create",
    "message0": "创建编码电机 %1 电机引脚A %2 B %3 编码器引脚A %4 B %5 PPR%6 减速比%7 相位关系 %8",
    "args0": [
      {
        "type": "field_input",
        "name": "VAR",
        "text": "motor1"
      },
      {
        "type": "input_value",
        "name": "POS_PIN"
      },
      {
        "type": "input_value",
        "name": "NEG_PIN"
      },
      {
        "type": "input_value",
        "name": "A_PIN"
      },
      {
        "type": "input_value",
        "name": "B_PIN"
      },
      {
        "type": "input_value",
        "name": "PPR"
      },
      {
        "type": "input_value",
        "name": "REDUCTION"
      },
      {
        "type": "field_dropdown",
        "name": "PHASE",
        "options": [
          ["A相领先", "em::EncoderMotor::kAPhaseLeads"],
          ["B相领先", "em::EncoderMotor::kBPhaseLeads"]
        ]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#00979D",
    "tooltip": "创建编码电机对象，配置电机和编码器引脚、PPR、减速比"
  },
  {
    "type": "encoder_motor_set_pid",
    "message0": "设置编码电机 %1 PID参数 P%2 I%3 D%4",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "motor1",
        "variableTypes": ["EncoderMotor"],
        "defaultType": "EncoderMotor"
      },
      {
        "type": "input_value",
        "name": "P"
      },
      {
        "type": "input_value",
        "name": "I"
      },
      {
        "type": "input_value",
        "name": "D"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#00979D",
    "tooltip": "设置速度环PID控制器参数"
  },
  {
    "type": "encoder_motor_run_pwm",
    "message0": "编码电机 %1 以动力 %2 运转(-1023~1023)",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "motor1",
        "variableTypes": ["EncoderMotor"],
        "defaultType": "EncoderMotor"
      },
      {
        "type": "input_value",
        "name": "PWM",
        "check": "Number"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#00979D",
    "tooltip": "直接设置PWM占空比驱动电机，范围-1023到1023，负值反转"
  },
  {
    "type": "encoder_motor_run_speed",
    "message0": "编码电机 %1 以速度 %2 RPM运转(-300~300)",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "motor1",
        "variableTypes": ["EncoderMotor"],
        "defaultType": "EncoderMotor"
      },
      {
        "type": "input_value",
        "name": "SPEED",
        "check": "Number"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#00979D",
    "tooltip": "使用速度环控制电机转速，范围-300到300RPM，负值反转"
  },
  {
    "type": "encoder_motor_stop",
    "message0": "停止编码电机 %1",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "motor1",
        "variableTypes": ["EncoderMotor"],
        "defaultType": "EncoderMotor"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#00979D",
    "tooltip": "停止电机运行"
  },
  {
    "type": "encoder_motor_get_speed",
    "message0": "编码电机 %1 当前转速(RPM)",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "motor1",
        "variableTypes": ["EncoderMotor"],
        "defaultType": "EncoderMotor"
      }
    ],
    "output": "Number",
    "colour": "#00979D",
    "tooltip": "获取电机当前转速"
  },
  {
    "type": "encoder_motor_get_pwm",
    "message0": "编码电机 %1 当前PWM占空比",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "motor1",
        "variableTypes": ["EncoderMotor"],
        "defaultType": "EncoderMotor"
      }
    ],
    "output": "Number",
    "colour": "#00979D",
    "tooltip": "获取电机当前PWM占空比"
  },
  {
    "type": "encoder_motor_get_pulse",
    "message0": "编码电机 %1 编码脉冲计数",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "motor1",
        "variableTypes": ["EncoderMotor"],
        "defaultType": "EncoderMotor"
      }
    ],
    "output": "Number",
    "colour": "#00979D",
    "tooltip": "获取编码器脉冲计数"
  }
]
