[
  {
    "type": "esp32_network_client_create",
    "message0": "创建网络客户端 %1",
    "args0": [
      {
        "type": "field_input",
        "name": "VAR",
        "text": "client"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "创建一个网络客户端对象"
  },
  {
    "type": "esp32_network_client_connect_ip",
    "message0": "客户端 %1 连接到IP %2 端口 %3",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClient"],
        "defaultType": "NetworkClient"
      },
      {
        "type": "input_value",
        "name": "IP",
        "check": ["String"]
      },
      {
        "type": "input_value",
        "name": "PORT",
        "check": ["Number"]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "连接到指定的IP地址和端口"
  },
  {
    "type": "esp32_network_client_connect_host",
    "message0": "客户端 %1 连接到主机 %2 端口 %3",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClient"],
        "defaultType": "NetworkClient"
      },
      {
        "type": "input_value",
        "name": "HOST",
        "check": ["String"]
      },
      {
        "type": "input_value",
        "name": "PORT",
        "check": ["Number"]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "连接到指定的主机名和端口"
  },
  {
    "type": "esp32_networkclientsecure_create",
    "message0": "创建安全网络客户端 %1",
    "args0": [
      {
        "type": "field_input",
        "name": "VAR",
        "text": "client"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "创建一个新的NetworkClientSecure安全网络客户端对象"
  },
  {
    "type": "esp32_networkclientsecure_set_insecure",
    "message0": "设置 %1 为不安全模式",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClientSecure"],
        "defaultType": "NetworkClientSecure"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "设置为不安全模式，不验证证书链（仅用于测试）"
  },
  {
    "type": "esp32_networkclientsecure_set_ca_cert",
    "message0": "设置 %1 的CA证书 %2",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClientSecure"],
        "defaultType": "NetworkClientSecure"
      },
      {
        "type": "input_value",
        "name": "CA_CERT",
        "check": ["String"]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "设置根CA证书用于验证服务器"
  },
  {
    "type": "esp32_networkclientsecure_set_certificate",
    "message0": "设置 %1 的客户端证书 %2",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClientSecure"],
        "defaultType": "NetworkClientSecure"
      },
      {
        "type": "input_value",
        "name": "CERT",
        "check": ["String"]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "设置客户端证书用于双向认证"
  },
  {
    "type": "esp32_networkclientsecure_set_private_key",
    "message0": "设置 %1 的私钥 %2",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClientSecure"],
        "defaultType": "NetworkClientSecure"
      },
      {
        "type": "input_value",
        "name": "PRIVATE_KEY",
        "check": ["String"]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "设置客户端私钥用于双向认证"
  },
  {
    "type": "esp32_networkclientsecure_set_psk",
    "message0": "设置 %1 的PSK认证 身份 %2 密钥 %3",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClientSecure"],
        "defaultType": "NetworkClientSecure"
      },
      {
        "type": "input_value",
        "name": "PSK_IDENT",
        "check": ["String"]
      },
      {
        "type": "input_value",
        "name": "PSK_KEY",
        "check": ["String"]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "设置预共享密钥(PSK)认证"
  },
  {
    "type": "esp32_networkclientsecure_set_plain_start",
    "message0": "设置 %1 为明文启动模式",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClientSecure"],
        "defaultType": "NetworkClientSecure"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "设置为明文启动模式，用于协议升级（如STARTTLS）"
  },
  {
    "type": "esp32_networkclientsecure_start_tls",
    "message0": "启动 %1 的TLS连接",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClientSecure"],
        "defaultType": "NetworkClientSecure"
      }
    ],
    "output": "Number",
    "colour": "#4CAF50",
    "tooltip": "将明文连接升级为TLS连接，返回0表示失败，非0表示成功"
  },
  {
    "type": "esp32_networkclientsecure_set_handshake_timeout",
    "message0": "设置 %1 握手超时 %2 秒",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClientSecure"],
        "defaultType": "NetworkClientSecure"
      },
      {
        "type": "input_value",
        "name": "TIMEOUT",
        "check": ["Number"]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "设置SSL握手超时时间"
  },
  {
    "type": "esp32_networkclientsecure_verify_fingerprint",
    "message0": "验证 %1 指纹 %2 域名 %3",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClientSecure"],
        "defaultType": "NetworkClientSecure"
      },
      {
        "type": "input_value",
        "name": "FINGERPRINT",
        "check": ["String"]
      },
      {
        "type": "input_value",
        "name": "DOMAIN",
        "check": ["String"]
      }
    ],
    "output": "Boolean",
    "colour": "#4CAF50",
    "tooltip": "验证服务器证书指纹和域名"
  },
  {
    "type": "esp32_networkclientsecure_get_peer_fingerprint",
    "message0": "获取 %1 的对端证书指纹",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClientSecure"],
        "defaultType": "NetworkClientSecure"
      }
    ],
    "output": "String",
    "colour": "#4CAF50",
    "tooltip": "获取对端证书的SHA256指纹（十六进制字符串）"
  },
  {
    "type": "esp32_networkclientsecure_last_error",
    "message0": "获取 %1 的最后错误",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClientSecure"],
        "defaultType": "NetworkClientSecure"
      }
    ],
    "output": "String",
    "colour": "#4CAF50",
    "tooltip": "获取最后一次连接或操作的错误信息"
  },
  {
    "type": "esp32_network_client_print",
    "message0": "客户端 %1 发送数据 %2",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClient"],
        "defaultType": "NetworkClient"
      },
      {
        "type": "input_value",
        "name": "DATA",
        "check": ["String"]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "向服务器发送数据"
  },
  {
    "type": "esp32_network_client_println",
    "message0": "客户端 %1 发送数据并换行 %2",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClient"],
        "defaultType": "NetworkClient"
      },
      {
        "type": "input_value",
        "name": "DATA",
        "check": ["String"]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "向服务器发送数据并添加换行符"
  },
  {
    "type": "esp32_network_client_available",
    "message0": "客户端 %1 可读取数据字节数",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClient"],
        "defaultType": "NetworkClient"
      }
    ],
    "output": "Number",
    "colour": "#4CAF50",
    "tooltip": "获取可读取的数据字节数"
  },
  {
    "type": "esp32_network_client_read",
    "message0": "客户端 %1 读取数据 %2",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClient"],
        "defaultType": "NetworkClient"
      },
      {
        "type": "field_dropdown",
        "name": "TYPE",
        "options": [
          ["单个字节", "BYTE"],
          ["字符串", "STRING"],
          ["读到换行符", "LINE"]
        ]
      }
    ],
    "output": "String",
    "colour": "#4CAF50",
    "tooltip": "从服务器读取数据"
  },
  {
    "type": "esp32_network_client_connected",
    "message0": "客户端 %1 已连接",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClient"],
        "defaultType": "NetworkClient"
      }
    ],
    "output": "Boolean",
    "colour": "#4CAF50",
    "tooltip": "检查客户端是否已连接"
  },
  {
    "type": "esp32_network_client_stop",
    "message0": "客户端 %1 断开连接",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "client",
        "variableTypes": ["NetworkClient"],
        "defaultType": "NetworkClient"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#4CAF50",
    "tooltip": "断开客户端连接"
  },
  {
    "type": "esp32_network_server_create",
    "message0": "创建网络服务器 %1 端口 %2 最大连接数 %3",
    "args0": [
      {
        "type": "field_input",
        "name": "VAR",
        "text": "server"
      },
      {
        "type": "input_value",
        "name": "PORT",
        "check": ["Number"]
      },
      {
        "type": "input_value",
        "name": "MAX_CLIENTS",
        "check": ["Number"]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#2196F3",
    "tooltip": "创建一个网络服务器对象"
  },
  {
    "type": "esp32_network_server_begin",
    "message0": "服务器 %1 开始监听",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "server",
        "variableTypes": ["NetworkServer"],
        "defaultType": "NetworkServer"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#2196F3",
    "tooltip": "开始监听客户端连接"
  },
  {
    "type": "esp32_network_server_accept",
    "message0": "服务器 %1 监听客户端 %2 连接",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "server",
        "variableTypes": ["NetworkServer"],
        "defaultType": "NetworkServer"
      },
      {
        "type": "field_input",
        "name": "CLIENT_VAR",
        "text": "client"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#2196F3",
    "tooltip": "接受客户端连接并返回客户端对象"
  },
  {
    "type": "esp32_network_server_stop",
    "message0": "服务器 %1 停止监听",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "server",
        "variableTypes": ["NetworkServer"],
        "defaultType": "NetworkServer"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#2196F3",
    "tooltip": "停止服务器监听"
  },
  {
    "type": "esp32_network_udp_create",
    "message0": "创建UDP对象 %1",
    "args0": [
      {
        "type": "field_input",
        "name": "VAR",
        "text": "udp"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#FF9800",
    "tooltip": "创建一个UDP对象"
  },
  {
    "type": "esp32_network_udp_begin",
    "message0": "UDP %1 开始监听端口 %2",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "udp",
        "variableTypes": ["NetworkUDP"],
        "defaultType": "NetworkUDP"
      },
      {
        "type": "input_value",
        "name": "PORT",
        "check": ["Number"]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#FF9800",
    "tooltip": "开始监听指定端口的UDP数据包"
  },
  {
    "type": "esp32_network_udp_begin_packet",
    "message0": "UDP %1 开始发送数据包到 %2 端口 %3",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "udp",
        "variableTypes": ["NetworkUDP"],
        "defaultType": "NetworkUDP"
      },
      {
        "type": "input_value",
        "name": "IP",
        "check": ["String"]
      },
      {
        "type": "input_value",
        "name": "PORT",
        "check": ["Number"]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#FF9800",
    "tooltip": "开始准备发送UDP数据包"
  },
  {
    "type": "esp32_network_udp_write",
    "message0": "UDP %1 写入数据 %2",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "udp",
        "variableTypes": ["NetworkUDP"],
        "defaultType": "NetworkUDP"
      },
      {
        "type": "input_value",
        "name": "DATA",
        "check": ["String"]
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#FF9800",
    "tooltip": "向UDP数据包写入数据"
  },
  {
    "type": "esp32_network_udp_end_packet",
    "message0": "UDP %1 发送数据包",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "udp",
        "variableTypes": ["NetworkUDP"],
        "defaultType": "NetworkUDP"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#FF9800",
    "tooltip": "发送UDP数据包"
  },
  {
    "type": "esp32_network_udp_parse_packet",
    "message0": "UDP %1 解析接收到的数据包",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "udp",
        "variableTypes": ["NetworkUDP"],
        "defaultType": "NetworkUDP"
      }
    ],
    "output": "Number",
    "colour": "#FF9800",
    "tooltip": "解析接收到的UDP数据包，返回数据包大小"
  },
  {
    "type": "esp32_network_udp_available",
    "message0": "UDP %1 可用数据字节数",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "udp",
        "variableTypes": ["NetworkUDP"],
        "defaultType": "NetworkUDP"
      }
    ],
    "output": "Number",
    "colour": "#FF9800",
    "tooltip": "获取可读取的数据字节数"
  },
  {
    "type": "esp32_network_udp_read",
    "message0": "UDP %1 读取数据",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "udp",
        "variableTypes": ["NetworkUDP"],
        "defaultType": "NetworkUDP"
      }
    ],
    "output": "String",
    "colour": "#FF9800",
    "tooltip": "从UDP缓冲区读取数据"
  },
  {
    "type": "esp32_network_udp_remote_ip",
    "message0": "UDP %1 远程IP地址",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "udp",
        "variableTypes": ["NetworkUDP"],
        "defaultType": "NetworkUDP"
      }
    ],
    "output": "String",
    "colour": "#FF9800",
    "tooltip": "获取发送数据包的远程IP地址"
  },
  {
    "type": "esp32_network_udp_remote_port",
    "message0": "UDP %1 远程端口",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "udp",
        "variableTypes": ["NetworkUDP"],
        "defaultType": "NetworkUDP"
      }
    ],
    "output": "Number",
    "colour": "#FF9800",
    "tooltip": "获取发送数据包的远程端口"
  },
  {
    "type": "esp32_network_udp_stop",
    "message0": "UDP %1 停止监听",
    "args0": [
      {
        "type": "field_variable",
        "name": "VAR",
        "variable": "udp",
        "variableTypes": ["NetworkUDP"],
        "defaultType": "NetworkUDP"
      }
    ],
    "previousStatement": null,
    "nextStatement": null,
    "colour": "#FF9800",
    "tooltip": "停止UDP监听"
  }
]